import numpy 
from numpy import *
from pylab import *

LetterA = array( [ [1, 1, 1, 1, 1, -1, -1, -1, -1, -1],
                   [1, 1, 1, 1, 1, 1, 1, -1, -1, -1],
                   [-1, -1, -1, 1, 1, 1, 1, 1, -1, -1],
                   [-1, -1, -1, -1, 1, 1, -1, 1, 1, -1],
                   [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                   [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                   [-1, -1, -1, -1, 1, 1, -1, 1, 1, -1],
                   [-1, -1, -1, 1, 1, 1, 1, 1, -1, -1],
                   [1, 1, 1, 1, 1, 1, 1, -1, -1, -1],
                   [1, 1, 1, 1, 1, -1, -1, -1, -1, -1] ])



"""LetterF = array( [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])"""

"""LetterG = array([ [-1, -1, 1, 1, 1, 1, 1, 1, -1, -1],
                  [-1, 1, 1, 1, 1, 1, 1, 1, 1, -1],
                  [1, 1, 1, -1, -1, -1, -1, 1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, 1, -1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, -1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, 1, 1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])"""

LetterJ = array([ [-1, 1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])

"""LetterL = array([ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])"""

"""LetterN = array([ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, 1, -1],
                  [-1, -1, -1, -1, -1, 1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, 1, -1, -1, -1],
                  [-1, -1, -1, 1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, 1, 1, 1, -1, -1, -1, -1, -1],
                  [-1, 1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1] ])"""

"""LetterS = array([ [1, 1, -1, -1, 1, 1, 1, 1, 1, 1],
                  [1, 1, -1, -1, 1, 1, 1, 1, 1, 1],
                  [1, 1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [1, 1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, 1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])"""

LetterT = array([ [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1] ])

LetterV = array([ [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, 1, 1, -1, -1],
                  [-1, -1, 1, 1, 1, 1, -1, -1, -1, -1],
                  [1, 1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, 1, 1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1] ])

LetterX = array([ [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, 1, 1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, 1, 1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, 1, 1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, 1, 1, -1, -1, 1, 1, -1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1] ])

"""LetterY = array([ [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [1, 1, 1, 1, 1, 1, -1, -1, -1, -1],
                  [1, 1, 1, 1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, 1, 1]])"""

"""LetterZ = array([ [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, -1, -1, -1, -1, 1, 1],
                  [1, 1, 1, 1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [1, 1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [1, 1, -1, -1, -1, -1, 1, 1, 1, 1],
                  [1, 1, -1, -1, -1, -1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1]])"""

LetterM = array([ [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [-1, -1, -1, -1, -1, 1, 1, -1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, 1, 1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, 1, 1, -1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
                   ])

LetterW = array([ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, 1, 1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, -1, -1],
                  [-1, -1, -1, 1, 1, -1, -1, -1, -1, -1],
                  [-1, -1, 1, 1, -1, -1, -1, -1, -1, -1],
                  [-1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1]])

LetterK = array([ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, 1, 1, 1, 1, -1, -1, -1],
                  [-1, -1, 1, 1, -1, -1, 1, 1, -1, -1],
                  [-1, 1, 1, -1, -1, -1, -1, 1, 1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, -1, -1, -1, -1, -1, -1, -1, -1, 1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1] ])

LetterO = array([ [-1, 1, 1, 1, 1, 1, 1, 1, 1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, -1, -1, -1, -1, -1, -1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, 1, 1, 1, 1, 1, 1, 1, 1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1]])

LetterR = array([ [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, -1, 1, 1, 1, -1, -1, 1, 1],
                  [-1, -1, 1, 1, 1, 1, 1, 1, 1, 1],
                  [-1, 1, 1, -1, -1, 1, 1, 1, 1, -1],
                  [1, 1, -1, -1, -1, -1, -1, -1, -1, -1],
                  [1, -1, -1, -1, -1, -1, -1, -1, -1, -1]])

DamagedA = array( [ [1, 1, 1, 1, 1, -1, -1, -1, -1, -1],
                   [1, 1, 1, 1, 1, 1, 1, -1, -1, -1],
                   [-1, -1, -1, 1, 1, 1, 1, 1, -1, -1],
                   [-1, -1, -1, -1, 1, 1, -1, 1, 1, -1],
                   [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                   [-1, -1, -1, -1, 1, 1, -1, -1, 1, 1],
                   [-1, -1, -1, -1, 1, 1, -1, 1, 1, -1],
                   [-1, -1, -1, 1, 1, 1, 1, 1, -1, -1],
                   [1, 1, 1, 1, 1, 1, 1, -1, -1, -1],
                   [1, 1, 1, 1, 1, -1, -1, -1, -1, -1] ])

ArrayofLetters = array([LetterA, LetterJ, LetterK, LetterM, LetterO, LetterR, LetterT, LetterV, LetterW, LetterX])

L = len(LetterA[0])
N = L**2
M = len(ArrayofLetters)

Jarray = zeros((L, L, L, L))
for m in range(M):
    Letter = ArrayofLetters[m]
    for i in range(L):
        for j in range(L):
            for k in range(L):
                for l in range(L):
                    Jarray[i, j, k, l] += Letter[i, j]*Letter[k, l]
Jarray = (1.0/M)*Jarray


def Orthogonal(Letter1, Letter2):
    sum = 0
    for i in range(L):
        for j in range(L):
            sum += Letter1[i,j]*Letter2[i,j]
    print sum

def damage(n, damaged):
    for i in range(n):
        damaged[int(L*numpy.random.random(1)), int(L*numpy.random.random(1))] *= -1

def monteCarloStep(array):  # nonweave version
	
    randomArray = numpy.random.random([L, L, L, L])  # random number for Metropolis algorithm
    
    randomPositions = L*numpy.random.random(2*N)
    
    for k in range(N):
        
        i = int(randomPositions[2*k])
        j = int(randomPositions[2*k + 1])
        
        dE = 0
        
        for l in range(L):
            for m in range(L):
                
                dE += 2*Jarray[i, j, l, m]*array[i, j]*array[l, m]
        
        if dE < 0:
            newSpin = -array[i, j]
            array[i, j] = newSpin


def plot(array):
	
		x = indices((L, L))[0,:,:]
		y = indices((L, L))[1,:,:]
		color = []
		for i in range(L):
			for j in range(L):
				if array[i, j] == 1:
					color.append([0.0, 0.0, 1.0])
				else:
					color.append([1.0, 1.0, 1.0])
		scatter(x.ravel(), y.ravel(), s=30.0, c=color, edgecolors='none')

damage(35, DamagedA)

"""for i in range(50):
    if i == 0:
        figure(0)
        plot(DamagedA)
        
    monteCarloStep(DamagedA)
    
    if i == 1:
        figure(1)
        plot(DamagedA)
        #print_config(Configuration)
    if i == 2:
        figure(2)
        plot(DamagedA)
        #print_config(Configuration)
    if i == 3:
        figure(3)
        plot(DamagedA)
    if i == 4:
        figure(4)
        plot(DamagedA)
    if i == 5:
        figure(5)
        plot(DamagedA)
    if i == 6:
        figure(6)
        plot(DamagedA)
    if i == 15:
        figure(7)
        plot(DamagedA)
show()"""

"""Orthogonal(LetterR, LetterJ)
Orthogonal(LetterR, LetterA)
Orthogonal(LetterR, LetterV)
Orthogonal(LetterR, LetterX)
Orthogonal(LetterR, LetterR)
Orthogonal(LetterR, LetterT)
Orthogonal(LetterR, LetterW)
Orthogonal(LetterR, LetterK)
Orthogonal(LetterR, LetterO)
Orthogonal(LetterR, LetterM)"""


figure(1)                
plot(LetterR)
figure(2)
plot(LetterA)
figure(3)
plot(LetterJ)
figure(4)
plot(LetterX)
figure(5)
plot(LetterV)
figure(6)
plot(LetterO)
figure(7)
plot(LetterW)
figure(8)
plot(LetterM)
figure(9)
plot(LetterK)
figure(10)
plot(LetterT)
show()